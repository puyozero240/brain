---
date: 2025-11-24
---

# Pythonのモジュールは『wiki』です。【Python学習メモ(3)】

<!-- more -->

![](/docs/images/サムネ-Pythonのモジュールはwikiです.png)

私はAppSheetというGoogleが出しているノーコードツールで業務アプリを作っている。

ノーコードツールを作るにあたり、業務内で扱われるデータの流れというものを定義する必要があり、一般的にデータモデリングと言われている。

ノーコードツールでもデータモデリングをしっかりすることで将来的に使えるデータをためていこうという「読み書きパソコン」というYouTubeチャンネルの方向性で私は学習を進めている。

[読み書きパソコン](https://www.youtube.com/@yomikakiPC)

さらにその知見を使ってノーコードではなくしっかりコードを書いてアプリを作ろうと現在Pythonを学習中だ。

これらの記事はその学習の中でのログを学習ノートとして残しておこうという趣旨で書かれている。

[【学習メモ】PythonでつくるWebアプリの作り方｜ぷよぜろ｜note](https://note.com/puyozero/m/m961b392421a8)

現在使っている学習教材は下記の書籍と動画である。

https://x.gd/qRHpC

参考になる情報は少ないと思うが、ガチンコエンジニアの皆様は「この人はここで躓いてるんだなぁ」と眺めてもらえると嬉しい。
アドバイスなどいただけるとなお嬉しい。

先日一旦 `Post` まで学習を進めたので、「何か気づきが出てくるんじゃないか？」と重い、最初に戻ってもう一度振り返る。

当時は学習メモも書かずに進めていたので、今度からは学習メモを書きながら進める。

## 定番の「Hallo, World!」をFlaskでブラウザに表示する

まずは教本通りコーディングをする。

```python
# Flaskのインポート
from flask import Flask

# インスタンス作成
app: Flask = Flask(__name__)

# ルーティング
@app.route('/')
def hello_world():
    return"<h1>Hello, World!</h1>"

if __name__ == '__main__':
    app.run(debug=True)
```

ここは難なく成功。

![](/docs/images/Flask-hello,world.png)

前回は「よし、できたこういうもんだろ」と飛ばした。しかし今回は徹底的に調べてみる。

## from flask import Flaskってなんやねん

初学者である私はいきなり引っかかる。

「そもそもimportとfromの違いってなんだったっけ？どっちも先輩たちが作った便利な機能を読み込むためにあるのはわかってるがけどどう違うんだっけ？」

教本にしてある書籍にはここの解説は載っていない。なので私はPython YouTuberであるのサプーさんの動画にて学習をする。

### flaskというパッケージの中にあるのFlaskというモジュールを呼び出している。

サプーさんの動画のおかげでFlaskというモジュールを呼び出していることがわかった。

> 部品であるモジュールを使うときは 『import モジュール名』と書く必要があります。
> https://youtu.be/aXnB3Cm__-o?si=Sy7UOPy9_PTgbMDZ&t=49 

### パッケージとライブラリの関係

ではパッケージとモジュールとは一体何なのか。どんな関係なのかというと “パッケージの中にモジュールが入っている” という関係になっているようだ。

> 『モジュール』が複数存在しているディレクトリーを『パッケージ』って言います。さらにそういったパッケージをひとつにまとめたものを『ライブラリー』って言います。
> https://youtu.be/aXnB3Cm__-o?si=c2HO4qcfxd1C43oe&t=20
> 

パソコンのフォルダ関係で考えると覚えやすいだろう。

```python
ライブラリ（パッケージをまとめたフォルダ）
		└─── パッケージ（モジュールをまとめたフォルダ）
							└─── モジュール（関数、クラス）
```

全体感はこうなっているようだ。

### モジュールは関数やクラスの書かれたスクリプトファイルのことをさす

「じゃあモジュールの中身ってどうなってるんだ？」

私はそう思ったが、さすがサプーさん、動画を戻って確認するとしっかり言及してくれている。

> まず『モジュール』とはひとつのスクリプトファイル、つまりコードが書かれたファイルのことを指しています。そこに『クラス』とか『関数』が定義されていて外から使えるようになっています
> https://youtu.be/aXnB3Cm__-o?si=c2HO4qcfxd1C43oe&t=20

「ってことは…？前回学習した『顧客レコード作成クラス』だけをスクリプトファイルの中に書いて呼び出せば、それが『顧客情報登録のモジュール』として機能する…？」

このようなアイデアが浮かんだ。

[クラスと__init__の基本をAppSheetの知識を使っていい感じに理解した気がする。【Python学習メモ (2)】｜ぷよぜろ](https://note.com/puyozero/n/n07e0f0c644f0)

ここからは例のごとくGemini先生に聞いてみる。

```text
Pythonのモジュールについて学習しています。
- モジュールは一つのスクリプトファイルであること
- ライブラリ > パッケージ > モジュール という階層構造になっていること
を理解しました。

ここでこんな理解に至りました。
1. 顧客情報を登録するためのクラスを作成
2. そのクラスをスクリプトファイルにモジュールとして独立させる
3. モジュールを読み込むとそのクラスをほかのプロジェクトでも利用できるようになる

以前作った顧客情報を登録するクラスはこれです
class 顧客:
    def __init__(self, ID顧客, 姓, 名, 性別):
        self.ID顧客 = ID顧客
        self.姓 = 姓
        self.名 = 名
        self.性別 = 性別

モジュール化させるのには単純にファイルを切り離せばいい訳ではないというのは直感的に感じているのでモジュール化させるという行為自体への細かい言及は今回はせずに、概念理解として合っているのかという部分に焦点を当ててください。
```

> あなたの理解された3つのステップは、**モジュールの概念として完全に合っています**。
> 
> 
> **1. 顧客情報のクラス作成: 
> クラス**は、顧客情報という「実体」や「型」を定義する設計図です。これは再利用したい機能のまとまりとなります。
> 
> **2. クラスをモジュールとして独立させる:**
> 作成したクラスを別のファイル（例えば `customer.py`）に保存すると、そのファイル自体が**モジュール**となります。
> 
> このモジュールは、あなたのプロジェクトにおける再利用可能な機能の「部品箱」のような役割を果たします。
> 
> **3. モジュールを読み込み、クラスを利用する**
> 
> このモジュールを別のスクリプトファイルから**読み込む**ことによって、モジュール内に定義されている `顧客` クラスを何度も、どのプロジェクトからでも利用できるようになります。
> 
> これが、モジュール化の最大の目的である**再利用性**です。これにより、コードの重複を防ぎ、管理を容易にできます。
> 

どうやら私の理解は正しかったようで、狙い通りいけるようだ。すこぶるモジュールが便利なものだとわかった。同じコード2回も書かなくていいのだから。次回からはモジュール名を指定する1行を書けばまったく同じ機能が使えるのだから。

ここでモジュールがある概念と酷似していると私は気がつく。

### モジュールはwikiのページ切り出し概念と非常に似ている

あなたはwikiを知っているだろうか。知らない方はいないと思うが、ピンとこない方はWikipediaをイメージしてもらうといいだろう。

> ここで私が言うwikiは[Cosense(旧Scrapbox)](https://scrapbox.io/product)のことを指す。
メモ同士をリンクでつないで再利用性を高めるためのwikiサービスだ。
> 

モジュールの考え方はこのwikiの考え方と酷似していると感じた。私がつかっているwiki(Cosense)はメモの中の文脈を別のページに切り出すことができる。

例えばこういうメモがあったとしよう。

> 私は怪談が好きだ。**怪談は「幽霊が出てくる」話を一番最初に思い浮かべると思うがそうではない。幽霊が出てこなくても理解できない、納得できない、意味わからないという話は怪談として扱っていいと思っている。**つまり不思議な話が好きなのである

![](/docs/images/wiki-切り出しなし.png)

この太字の部分を別のページ（メモ）に切り出して、そのメモに「怪談」というタイトルをつける。

![](/docs/images/wiki-切り出したメモ.png)

そうすると、一番最初の長いメモはこうやって書くことができる

> 私は[怪談]が好きだ。つまり不思議な話が好きなのである

![](/docs/images/wiki-リンクさせたあと.png)

わかるだろうか。一番最初の長いメモの太字の部分（怪談の定義）を『怪談』という一言で表現できるようになるのである。

怪談の定義を理解したければ[怪談]というメモにジャンプして歓談の定義を読めばいいというわけだ。

この概念、モジュールに似てないだろうか？

毎回

```
class 顧客:
    def __init__(self, ID顧客, 姓, 名, 性別):
        self.ID顧客 = ID顧客
        self.姓 = 姓
        self.名 = 名
        self.性別 = 性別
```

と書かないといけないのをモジュール化しておく（別のメモに切り出す）ことで、今後はクラス名を指定する（そのメモのリンクを張る）だけで同じこと（同じ文脈）が再現できるのである。

## モジュールの読み込み方

モジュールを読み込むときは、このように書く

```
# モジュールを読み込む
import モジュール名
```

> 部品であるモジュールを使うときは 『import モジュール名』って書く必要があります
https://youtu.be/aXnB3Cm__-o?si=a7xhf8yDi9FnQtCo&t=49
> 

先ほどのクラス

```
class 顧客:
    def __init__(self, ID顧客, 姓, 名, 性別):
        self.ID顧客 = ID顧客
        self.姓 = 姓
        self.名 = 名
        self.性別 = 性別
```

これを『顧客.py』というモジュールにして保存した場合、この顧客モジュールを呼び出すときはこう書けばいい。

```
# 下記のモジュール名は『顧客.py』を指す
import 顧客
```

このimport文はコードの一番上にまとめて書くのが一般的のようだ。

```
import A
import B
import C
```

そしてこのモジュールの中にはクラスや関数などが複数入っている。それらを呼び出して利用するときはこのように書く。

```
import 顧客

# モジュールの中のクラスや関数を呼び出して使う
モジュール名.顧客('1', '田中', '太郎', '男性')
```

上記はこれをやっているのほぼ同じである（「上のコードは変数に入れてないじゃないか！」という指摘はなしで。）

```
class 顧客:
    def __init__(self, ID顧客, 姓, 名, 性別):
        self.ID顧客 = ID顧客
        self.姓 = 姓
        self.名 = 名
        self.性別 = 性別

customer_a = 顧客('1', '田中', '太郎', '男性')
```

ちなみにモジュールの中の関数や変数を呼び出して使う場合はこのように書く

```
# 関数や変数があった場合も同じように使える
モジュール名.関数名()
モジュール名.変数
```

### 必ずしもパッケージ>モジュールとは限らない

パッケージ > モジュール

という階層構造になっていれば前述の呼び出し方で問題ない。しかし、パッケージの中にさらにディレクトリがあり、さらにディレイクトリがあり…という構成のライブラリも存在する。

> モジュールは『パッケージ > ディレクトリー』に入っていて、さらにそれを束ねたディレクトリーに入っていてって感じで階層構造になっていることがあります
> 

例えば1階層深以下たちで、ライブラリの構成がこうなっていたとする。

```
ライブラリ（パッケージをまとめたフォルダ）
    └─── パッケージ（モジュールをまとめたフォルダ）
        ├─── ディレクトリA
        │		└─── モジュールA1
        │		└─── モジュールA2
        └─── ディレクトリB
                └─── モジュールB1
                └─── モジュールB2
```

この場合、『モジュールA2』を指定するためには下記のように書く。

```
# パッケージを読み込む
import パッケージ

# 『モジュールA2』を呼び出す
パッケージ.ディレクトリA.モジュールA2
```

> ドットで階層を表すことができて、例えば xxx ってパッケージの中の、yyy ディレクトリーの中の、zzz っていうモジュールにかかれている test_funcitionっていう関数を呼び出したい場合は『import xxx』って上に書いて『xxx . yyy . zzz . test_functio』と描くと『test_function』を呼び出すことができます
> https://youtu.be/aXnB3Cm__-o?si=oR0OAM8UtdtqmuE-&t=93

『 . 』を用いてディレクトリを潜っていくようだ。『 . 』を『○○の…』と読み変えても良さそうである。

### fromはどうやってつかう？

「importはわかった。じゃあfromってどうやってつかうの」いらなくね？」

そうおもった。

なのでGemini先生に質問する。

```
別の質問です。
深い階層構造になっているモジュールを呼び出す際は

import パッケージ
パッケージ.ディレクトリA.モジュール名

とするのは理解できました。

fromってどう使えばいいんすか？
いらなくないっすか？
```

> とても良い質問ですね！たしかに、`import パッケージ`だけでも目的は達成できますが、`from`を使うと、**コードの可読性が劇的に向上する**という大きなメリットがあるため、一般的に多用されます。
> 
> 
> あなたの「いらなくないっすか？」という疑問の答えは、**「コードがシンプルになるので、必須ではないが、非常によく使われる」** です。

「いらないけどめっちゃシンプルにかけるからよく使われるよー」とのことだ。

> たとえば、以下の深い階層のモジュール（`connect_to_db`関数）を使いたいとします。
> • **階層:** `customer_info > data_management > db_connector > connect_to_db()` 
> 
> **インポート方法書き方関数を呼び出すときの書き方メリット/デメリット**
> 
> **フルインポート:**
> `import customer_infocustomer_info.data_management.db_connector.connect_to_db()`
> 
> 常にフルパスで**名前の衝突がない**が、記述が**長い**。
> 
> **`from`でモジュールを指定**
> `from customer_info.data_management import db_connectordb_connector.connect_to_db()`
> パスが**短くなる**。どのパッケージ由来か分かりにくくなる。
> 
> **`from`で関数を指定:**
> `from customer_info.data_management.db_connector import connect_to_dbconnect_to_db()`
> 
> 
> 最も記述が短い。ただし、同じ名前の関数が既にあると衝突する。
> 
> 

正直何言ってるかわからないが、頑張って私なりにこう解釈した。

```
importは長いが正確。毎回詳細な説明を入れてから話し出すような感じ
fromは短いが解釈違いが起きる可能性がある。説明は端折っていて短いが、聞く人によって前提がずれてしまうので解釈がずれちゃうみたいなイメージ…かな？
```

上記の質問では『説明 = 呼び出す際のコードの長さ』という意味で使っている。

> まさにその通り、コミュニケーションのスタイルに例えるのは、`import` と `from` の違いを理解するための**最も的確な表現**です。
> 

```
つまり 構文を一般化すると
from パス名 import モジュール名(またはクラス、関数)
ってことか？
```

> はい、その構文の一般化は**非常に正確**です！
> あなたの理解された構文は、Pythonのインポート文の構造をよく表しています。
> 
> 
> **🎯 技術的な補足**
> 
> あなたが使われた「**パス名**」という言葉は、概念的には正しいのですが、Pythonのインポート文では、これは**ドット（`.`）で区切られた階層構造**として表現されます。
> 

なるほど。わかった気がするので先ほどのフォルダ階層図を使って整理する。説明しやすくするためにモジュールの中にクラスと関数まで書いたことにする。

```
ライブラリ（パッケージをまとめたフォルダ）
    └─── パッケージ（モジュールをまとめたフォルダ）
            ├─── ディレクトリA
            │	    └─── モジュールA1
            │       └─── モジュールA2
            └─── ディレクトリB
					└─── モジュールB1
					└─── クラスA
					└─── 関数B
					└─── モジュールB2
```

この場合 、from を使わずに『モジュールB1』の中の『クラスA』を呼び出そうとするとこうなる。

```
# パッケージを読み込む
import パッケージ

# 『モジュールB1』の中の『クラスＡ』を呼び出す。
パッケージ.ディレクトリB.モジュールB1.クラスA
```

しかしfrom を使った場合はこうなる

```
# fromを使ってパスごと読み込む
from パッケージ.ディレクトリB import モジュールB1

# 『モジュールB1』の中の『クラスＡ』を呼び出す。
モジュールB1.クラスA
```

こう書いてもいいだろう

```
# fromを使ってクラスAまで直接読み込む
from パッケージ.ディレクトリB.モジュールB1 import クラスA

# 『モジュールB1』の中の『クラスＡ』を呼び出す。
クラスA
```

from は『**モジュールまでで読み込みを止めて、後でモジュールの中身を自由に使えるようにする**』のか、『**モジュールの中の特定のクラスや関数まで読みんで、後の呼び出しを楽にするか**』という二つのアプローチがあるようだ。


## モジュールにあだ名をつける

importで取り込んだモジュールは自分のプロジェクト内で使うための名前を自由につけることができる。あだ名をつけるような感じだろう。

```
improt モジュール名 as あだ名
```

モジュールにあだ名をつけると今後そのあだ名で呼び出せる用になる

```
# 顧客モジュール(顧客.py)に『俺にとっての神』というあだ名をつける
import 顧客 as 俺にとっての神

# 顧客（俺にとっての神）の中の『顧客クラス』を呼び出す
俺にとっての神.顧客(...)
```

これはエンジニアの遊び心を爆発させるポイントだと思うが、一歩間違えると上記のように非常にわかりにくいコードになるので注意したい。

## 総括:

今回は import と from について深掘りして学習した。たったコード1行でまさかここまで膨らむだなんて思ってもみなかった。

私は学習メモを書き終わった後Geminiにまるっと渡して感想を求めている。解釈違いがあれば補足して教えてくれるので非常に助かるし褒めてくれる。かなりモチベーションが上がる。

今回はこのようなアドバイスが返ってきた

> **🚀 次のステップへのアドバイス**
> 
> 
> 「この人はここで躓いてるんだなぁ」というよりも、「**この人は本質を深く捉えようとしているな**」と感じました。
> 
> **1. `__init__.py`とパッケージ**
> 
> パッケージとモジュールを理解した今、次のステップとして**`__init__.py`**というファイルについて調べてみるのがおすすめです。
> 
> Pythonでは、単なるフォルダを「パッケージ」として認識させるために、この特別なファイル（中身は空でも良いことが多い）が必要になります。これは、あなたがモジュールを実際に**自分で作って**利用するときに必ず必要になる知識です。
> 

これはまた沼な気がする。しかし大事そうである。

Flaskの最初の方に定義する『 __name__ 』とかも全く意味がわからないので引き続き学習していきたい。書籍には「インスタンスを作成する」と注釈がある。

- クラスの __init__ と何が違うのか
- __init__.py と名前が同じだがこれは何を示すのか。

『 __init__ 』という共通の単語なのですごいカタルシスが訪れそうな予感がする。
